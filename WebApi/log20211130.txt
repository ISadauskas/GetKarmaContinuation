{"@t":"2021-11-30T19:32:59.1892182Z","@mt":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","FullName":"C:\\Users\\Kristupas\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}
{"@t":"2021-11-30T19:32:59.3372285Z","@mt":"{State:l}","@r":["Start installing Hangfire SQL objects..."],"State":"Start installing Hangfire SQL objects...","SourceContext":"Hangfire.SqlServer.SqlServerObjectsInstaller"}
{"@t":"2021-11-30T19:32:59.8554774Z","@mt":"{State:l}","@r":["Hangfire SQL objects installed."],"State":"Hangfire SQL objects installed.","SourceContext":"Hangfire.SqlServer.SqlServerObjectsInstaller"}
{"@t":"2021-11-30T19:32:59.9650651Z","@mt":"{State:l}","@r":["Starting Hangfire Server using job storage: 'SQL Server: DESKTOP-G1KHQFR@HangFire'"],"State":"Starting Hangfire Server using job storage: 'SQL Server: DESKTOP-G1KHQFR@HangFire'","SourceContext":"Hangfire.BackgroundJobServer"}
{"@t":"2021-11-30T19:32:59.9653234Z","@mt":"{State:l}","@r":["Using the following options for SQL Server job storage: Queue poll interval: 00:00:00."],"State":"Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.","SourceContext":"Hangfire.BackgroundJobServer"}
{"@t":"2021-11-30T19:32:59.9655448Z","@mt":"{State:l}","@r":["Using the following options for Hangfire Server:\r\n    Worker count: 20\r\n    Listening queues: 'default'\r\n    Shutdown timeout: 00:00:15\r\n    Schedule polling interval: 00:00:15"],"State":"Using the following options for Hangfire Server:\r\n    Worker count: 20\r\n    Listening queues: 'default'\r\n    Shutdown timeout: 00:00:15\r\n    Schedule polling interval: 00:00:15","SourceContext":"Hangfire.BackgroundJobServer"}
{"@t":"2021-11-30T19:33:00.3788415Z","@mt":"Application startup exception","@l":"Fatal","@x":"System.InvalidOperationException: Unable to resolve service for type 'Microsoft.Extensions.Logging.ILogger' while attempting to activate 'WebApi.Middleware.ErrorHandlerMiddleware'.\r\n   at Microsoft.Extensions.Internal.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)\r\n   at Microsoft.Extensions.Internal.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)\r\n   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.<>c__DisplayClass5_0.<UseMiddleware>b__0(RequestDelegate next)\r\n   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()\r\n   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)","EventId":{"Id":6,"Name":"ApplicationStartupException"},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics"}
{"@t":"2021-11-30T19:33:00.5673111Z","@mt":"{State:l}","@r":["Server desktop-g1khqfr:12272:68d068ab caught stopping signal..."],"State":"Server desktop-g1khqfr:12272:68d068ab caught stopping signal...","SourceContext":"Hangfire.Server.BackgroundServerProcess"}
{"@t":"2021-11-30T19:33:00.5682085Z","@mt":"{State:l}","@r":["Server desktop-g1khqfr:12272:68d068ab caught stopped signal..."],"State":"Server desktop-g1khqfr:12272:68d068ab caught stopped signal...","SourceContext":"Hangfire.Server.BackgroundServerProcess"}
{"@t":"2021-11-30T19:33:00.5938587Z","@mt":"{State:l}","@r":["Server desktop-g1khqfr:12272:68d068ab successfully announced in 584.9308 ms"],"State":"Server desktop-g1khqfr:12272:68d068ab successfully announced in 584.9308 ms","SourceContext":"Hangfire.Server.BackgroundServerProcess"}
{"@t":"2021-11-30T19:33:00.6094082Z","@mt":"{State:l}","@r":["Server desktop-g1khqfr:12272:68d068ab is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler..."],"State":"Server desktop-g1khqfr:12272:68d068ab is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...","SourceContext":"Hangfire.Server.BackgroundServerProcess"}
{"@t":"2021-11-30T19:33:00.9413481Z","@mt":"{State:l}","@r":["Server desktop-g1khqfr:12272:68d068ab all the dispatchers started"],"State":"Server desktop-g1khqfr:12272:68d068ab all the dispatchers started","SourceContext":"Hangfire.Server.BackgroundServerProcess"}
{"@t":"2021-11-30T19:33:00.9627019Z","@mt":"{State:l}","@r":["Server desktop-g1khqfr:12272:68d068ab All dispatchers stopped"],"State":"Server desktop-g1khqfr:12272:68d068ab All dispatchers stopped","SourceContext":"Hangfire.Server.BackgroundServerProcess"}
{"@t":"2021-11-30T19:33:00.9681754Z","@mt":"{State:l}","@r":["Server desktop-g1khqfr:12272:68d068ab successfully reported itself as stopped in 3.9521 ms"],"State":"Server desktop-g1khqfr:12272:68d068ab successfully reported itself as stopped in 3.9521 ms","SourceContext":"Hangfire.Server.BackgroundServerProcess"}
{"@t":"2021-11-30T19:33:00.9683359Z","@mt":"{State:l}","@r":["Server desktop-g1khqfr:12272:68d068ab has been stopped in total 400.7495 ms"],"State":"Server desktop-g1khqfr:12272:68d068ab has been stopped in total 400.7495 ms","SourceContext":"Hangfire.Server.BackgroundServerProcess"}
{"@t":"2021-11-30T19:42:26.1847276Z","@mt":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","FullName":"C:\\Users\\Kristupas\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}
{"@t":"2021-11-30T19:42:26.2789694Z","@mt":"{State:l}","@r":["Start installing Hangfire SQL objects..."],"State":"Start installing Hangfire SQL objects...","SourceContext":"Hangfire.SqlServer.SqlServerObjectsInstaller"}
{"@t":"2021-11-30T19:42:26.6168316Z","@mt":"{State:l}","@r":["Hangfire SQL objects installed."],"State":"Hangfire SQL objects installed.","SourceContext":"Hangfire.SqlServer.SqlServerObjectsInstaller"}
{"@t":"2021-11-30T19:42:26.7070782Z","@mt":"{State:l}","@r":["Starting Hangfire Server using job storage: 'SQL Server: DESKTOP-G1KHQFR@HangFire'"],"State":"Starting Hangfire Server using job storage: 'SQL Server: DESKTOP-G1KHQFR@HangFire'","SourceContext":"Hangfire.BackgroundJobServer"}
{"@t":"2021-11-30T19:42:26.7072954Z","@mt":"{State:l}","@r":["Using the following options for SQL Server job storage: Queue poll interval: 00:00:00."],"State":"Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.","SourceContext":"Hangfire.BackgroundJobServer"}
{"@t":"2021-11-30T19:42:26.7074811Z","@mt":"{State:l}","@r":["Using the following options for Hangfire Server:\r\n    Worker count: 20\r\n    Listening queues: 'default'\r\n    Shutdown timeout: 00:00:15\r\n    Schedule polling interval: 00:00:15"],"State":"Using the following options for Hangfire Server:\r\n    Worker count: 20\r\n    Listening queues: 'default'\r\n    Shutdown timeout: 00:00:15\r\n    Schedule polling interval: 00:00:15","SourceContext":"Hangfire.BackgroundJobServer"}
{"@t":"2021-11-30T19:42:27.0350553Z","@mt":"Application started. Press Ctrl+C to shut down.","SourceContext":"Microsoft.Hosting.Lifetime"}
{"@t":"2021-11-30T19:42:27.0353530Z","@mt":"Hosting environment: {envName}","envName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}
{"@t":"2021-11-30T19:42:27.0354185Z","@mt":"Content root path: {contentRoot}","contentRoot":"C:\\Users\\Kristupas\\Desktop\\karma4r\\WebApi","SourceContext":"Microsoft.Hosting.Lifetime"}
{"@t":"2021-11-30T19:42:27.1023633Z","@mt":"{HostingRequestStartingLog:l}","@r":["Request starting HTTP/2 GET https://localhost:44360/ - -"],"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:44360","PathBase":"","Path":"/","QueryString":"","HostingRequestStartingLog":"Request starting HTTP/2 GET https://localhost:44360/ - -","EventId":{"Id":1,"Name":"RequestStarting"},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"80000012-0007-fd00-b63f-84710c7967bb","RequestPath":"/"}
{"@t":"2021-11-30T19:42:27.1588882Z","@mt":"{State:l}","@r":["Server desktop-g1khqfr:17932:4c9b06bc successfully announced in 416.2317 ms"],"State":"Server desktop-g1khqfr:17932:4c9b06bc successfully announced in 416.2317 ms","SourceContext":"Hangfire.Server.BackgroundServerProcess"}
{"@t":"2021-11-30T19:42:27.1790560Z","@mt":"{State:l}","@r":["Server desktop-g1khqfr:17932:4c9b06bc is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler..."],"State":"Server desktop-g1khqfr:17932:4c9b06bc is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...","SourceContext":"Hangfire.Server.BackgroundServerProcess"}
{"@t":"2021-11-30T19:42:27.2526335Z","@mt":"{State:l}","@r":["2 servers were removed due to timeout"],"State":"2 servers were removed due to timeout","SourceContext":"Hangfire.Server.ServerWatchdog"}
{"@t":"2021-11-30T19:42:27.3872353Z","@mt":"{State:l}","@r":["Server desktop-g1khqfr:17932:4c9b06bc all the dispatchers started"],"State":"Server desktop-g1khqfr:17932:4c9b06bc all the dispatchers started","SourceContext":"Hangfire.Server.BackgroundServerProcess"}
{"@t":"2021-11-30T19:42:27.4187501Z","@mt":"Executing endpoint '{EndpointName}'","EndpointName":"/ HTTP: GET","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"80000012-0007-fd00-b63f-84710c7967bb","RequestPath":"/"}
{"@t":"2021-11-30T19:42:27.4672897Z","@mt":"Executed endpoint '{EndpointName}'","EndpointName":"/ HTTP: GET","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"80000012-0007-fd00-b63f-84710c7967bb","RequestPath":"/"}
{"@t":"2021-11-30T19:42:27.4902197Z","@mt":"{HostingRequestFinishedLog:l}","@r":["Request finished HTTP/2 GET https://localhost:44360/ - - - 200 - - 387.0323ms"],"ElapsedMilliseconds":387.0323,"StatusCode":200,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:44360","PathBase":"","Path":"/","QueryString":"","HostingRequestFinishedLog":"Request finished HTTP/2 GET https://localhost:44360/ - - - 200 - - 387.0323ms","EventId":{"Id":2,"Name":"RequestFinished"},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"80000012-0007-fd00-b63f-84710c7967bb","RequestPath":"/"}
{"@t":"2021-11-30T19:42:27.5769492Z","@mt":"{HostingRequestStartingLog:l}","@r":["Request starting HTTP/2 GET https://localhost:44360/favicon.ico - -"],"Protocol":"HTTP/2","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"https","Host":"localhost:44360","PathBase":"","Path":"/favicon.ico","QueryString":"","HostingRequestStartingLog":"Request starting HTTP/2 GET https://localhost:44360/favicon.ico - -","EventId":{"Id":1,"Name":"RequestStarting"},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"8000001e-0000-fd00-b63f-84710c7967bb","RequestPath":"/favicon.ico"}
{"@t":"2021-11-30T19:42:27.6050120Z","@mt":"{HostingRequestFinishedLog:l}","@r":["Request finished HTTP/2 GET https://localhost:44360/favicon.ico - - - 404 - - 28.0566ms"],"ElapsedMilliseconds":28.0566,"StatusCode":404,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/2","Method":"GET","Scheme":"https","Host":"localhost:44360","PathBase":"","Path":"/favicon.ico","QueryString":"","HostingRequestFinishedLog":"Request finished HTTP/2 GET https://localhost:44360/favicon.ico - - - 404 - - 28.0566ms","EventId":{"Id":2,"Name":"RequestFinished"},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"8000001e-0000-fd00-b63f-84710c7967bb","RequestPath":"/favicon.ico"}
{"@t":"2021-11-30T19:43:00.9275576Z","@mt":"{HostingRequestStartingLog:l}","@r":["Request starting HTTP/1.1 POST https://localhost:44360/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638 multipart/form-data;+boundary=--------------------------043773069501003246773208 280"],"Protocol":"HTTP/1.1","Method":"POST","ContentType":"multipart/form-data; boundary=--------------------------043773069501003246773208","ContentLength":280,"Scheme":"https","Host":"localhost:44360","PathBase":"","Path":"/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638","QueryString":"","HostingRequestStartingLog":"Request starting HTTP/1.1 POST https://localhost:44360/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638 multipart/form-data;+boundary=--------------------------043773069501003246773208 280","EventId":{"Id":1,"Name":"RequestStarting"},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"8000001e-0004-ff00-b63f-84710c7967bb","RequestPath":"/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638"}
{"@t":"2021-11-30T19:43:01.8611157Z","@mt":"Successfully validated the token.","EventId":{"Id":2,"Name":"TokenValidationSucceeded"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"8000001e-0004-ff00-b63f-84710c7967bb","RequestPath":"/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638"}
{"@t":"2021-11-30T19:43:01.8668570Z","@mt":"Authorization was successful.","EventId":{"Id":1,"Name":"UserAuthorizationSucceeded"},"SourceContext":"Microsoft.AspNetCore.Authorization.DefaultAuthorizationService","RequestId":"8000001e-0004-ff00-b63f-84710c7967bb","RequestPath":"/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638"}
{"@t":"2021-11-30T19:43:01.8675064Z","@mt":"Executing endpoint '{EndpointName}'","EndpointName":"WebApi.Controllers.ItemsController.RateItem (WebApi)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"8000001e-0004-ff00-b63f-84710c7967bb","RequestPath":"/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638"}
{"@t":"2021-11-30T19:43:01.9082906Z","@mt":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","RouteData":"{action = \"RateItem\", controller = \"Items\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RateItem(System.Guid, Domain.Entities.Rating)","Controller":"WebApi.Controllers.ItemsController","AssemblyName":"WebApi","EventId":{"Id":3,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"73c7b39e-2618-45bc-a5b3-cbc96e99c76f","ActionName":"WebApi.Controllers.ItemsController.RateItem (WebApi)","RequestId":"8000001e-0004-ff00-b63f-84710c7967bb","RequestPath":"/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638"}
{"@t":"2021-11-30T19:43:02.8720217Z","@mt":"Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.","@l":"Warning","EventId":{"Id":10400,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.SensitiveDataLoggingEnabledWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation","ActionId":"73c7b39e-2618-45bc-a5b3-cbc96e99c76f","ActionName":"WebApi.Controllers.ItemsController.RateItem (WebApi)","RequestId":"8000001e-0004-ff00-b63f-84710c7967bb","RequestPath":"/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638"}
{"@t":"2021-11-30T19:43:03.0372255Z","@mt":"Entity Framework Core {version} initialized '{contextType}' using provider '{provider}' with options: {options}","version":"5.0.10","contextType":"ItemDbContext","provider":"Microsoft.EntityFrameworkCore.SqlServer","options":"SensitiveDataLoggingEnabled ","EventId":{"Id":10403,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized"},"SourceContext":"Microsoft.EntityFrameworkCore.Infrastructure","ActionId":"73c7b39e-2618-45bc-a5b3-cbc96e99c76f","ActionName":"WebApi.Controllers.ItemsController.RateItem (WebApi)","RequestId":"8000001e-0004-ff00-b63f-84710c7967bb","RequestPath":"/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638"}
{"@t":"2021-11-30T19:43:03.8649183Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"62","parameters":"@__get_Item_0='04e5b4e2-58ed-4851-b949-bc4f82c34638' (Nullable = true)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [i].[Id], [i].[Category], [i].[City], [i].[Description], [i].[ExpirationDate], [i].[IsRecieved], [i].[IsSuspended], [i].[Name], [i].[Redeemer], [i].[Uploader], [i].[Username], [i].[WinnerChosenRandomly]\r\nFROM [Items] AS [i]\r\nWHERE [i].[Id] = @__get_Item_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"73c7b39e-2618-45bc-a5b3-cbc96e99c76f","ActionName":"WebApi.Controllers.ItemsController.RateItem (WebApi)","RequestId":"8000001e-0004-ff00-b63f-84710c7967bb","RequestPath":"/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638"}
{"@t":"2021-11-30T19:43:03.9179034Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"6","parameters":"@__p_0='41tMZ23CXDWVBe4t44zdPNAy3XVvhIMl@clients' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Username], [u].[KarmaPoints], [u].[isVerified]\r\nFROM [Users] AS [u]\r\nWHERE [u].[Username] = @__p_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"73c7b39e-2618-45bc-a5b3-cbc96e99c76f","ActionName":"WebApi.Controllers.ItemsController.RateItem (WebApi)","RequestId":"8000001e-0004-ff00-b63f-84710c7967bb","RequestPath":"/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638"}
{"@t":"2021-11-30T19:43:04.1292860Z","@mt":"Executed action {ActionName} in {ElapsedMilliseconds}ms","ActionName":"WebApi.Controllers.ItemsController.RateItem (WebApi)","ElapsedMilliseconds":2215.6144,"EventId":{"Id":2,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"73c7b39e-2618-45bc-a5b3-cbc96e99c76f","RequestId":"8000001e-0004-ff00-b63f-84710c7967bb","RequestPath":"/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638"}
{"@t":"2021-11-30T19:43:04.1302875Z","@mt":"Executed endpoint '{EndpointName}'","EndpointName":"WebApi.Controllers.ItemsController.RateItem (WebApi)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"8000001e-0004-ff00-b63f-84710c7967bb","RequestPath":"/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638"}
{"@t":"2021-11-30T19:43:04.4453868Z","@mt":"An unhandled exception has occurred while executing the request.","@l":"Error","@x":"System.NotSupportedException: Specified method is not supported. The unsupported member type is located on type 'System.Int64'. Path: $.Length.\r\n ---> System.NotSupportedException: Specified method is not supported.\r\n   at Microsoft.AspNetCore.Server.IIS.Core.ReadOnlyStream.get_Length()\r\n   at Microsoft.AspNetCore.Server.IIS.Core.WrappingStream.get_Length()\r\n   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)\r\n   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)\r\n   --- End of inner exception stack trace ---\r\n   at System.Text.Json.ThrowHelper.ThrowNotSupportedException(WriteStack& state, NotSupportedException ex)\r\n   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.JsonSerializer.WriteCore[TValue](JsonConverter jsonConverter, Utf8JsonWriter writer, TValue& value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.JsonSerializer.WriteCore[TValue](Utf8JsonWriter writer, TValue& value, Type inputType, JsonSerializerOptions options)\r\n   at System.Text.Json.JsonSerializer.Serialize[TValue](TValue& value, Type inputType, JsonSerializerOptions options)\r\n   at System.Text.Json.JsonSerializer.Serialize[TValue](TValue value, JsonSerializerOptions options)\r\n   at WebApi.Middleware.ErrorHandlerMiddleware.LogErrorExceptionWithRequestBody(HttpContext context, Exception exception) in C:\\Users\\Kristupas\\Desktop\\karma4r\\WebApi\\Middleware\\ErrorHandlerMiddleware.cs:line 61\r\n   at WebApi.Middleware.ErrorHandlerMiddleware.Invoke(HttpContext context) in C:\\Users\\Kristupas\\Desktop\\karma4r\\WebApi\\Middleware\\ErrorHandlerMiddleware.cs:line 55\r\n   at Microsoft.AspNetCore.Builder.Extensions.MapMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)","EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"8000001e-0004-ff00-b63f-84710c7967bb","RequestPath":"/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638"}
{"@t":"2021-11-30T19:43:04.5358376Z","@mt":"The response has already started, the error page middleware will not be executed.","@l":"Warning","EventId":{"Id":2,"Name":"ResponseStarted"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"8000001e-0004-ff00-b63f-84710c7967bb","RequestPath":"/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638"}
{"@t":"2021-11-30T19:43:04.5400273Z","@mt":"Connection ID \"{ConnectionId}\", Request ID \"{TraceIdentifier}\": An unhandled exception was thrown by the application.","@l":"Error","@x":"System.NotSupportedException: Specified method is not supported. The unsupported member type is located on type 'System.Int64'. Path: $.Length.\r\n ---> System.NotSupportedException: Specified method is not supported.\r\n   at Microsoft.AspNetCore.Server.IIS.Core.ReadOnlyStream.get_Length()\r\n   at Microsoft.AspNetCore.Server.IIS.Core.WrappingStream.get_Length()\r\n   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)\r\n   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)\r\n   --- End of inner exception stack trace ---\r\n   at System.Text.Json.ThrowHelper.ThrowNotSupportedException(WriteStack& state, NotSupportedException ex)\r\n   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.JsonSerializer.WriteCore[TValue](JsonConverter jsonConverter, Utf8JsonWriter writer, TValue& value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.JsonSerializer.WriteCore[TValue](Utf8JsonWriter writer, TValue& value, Type inputType, JsonSerializerOptions options)\r\n   at System.Text.Json.JsonSerializer.Serialize[TValue](TValue& value, Type inputType, JsonSerializerOptions options)\r\n   at System.Text.Json.JsonSerializer.Serialize[TValue](TValue value, JsonSerializerOptions options)\r\n   at WebApi.Middleware.ErrorHandlerMiddleware.LogErrorExceptionWithRequestBody(HttpContext context, Exception exception) in C:\\Users\\Kristupas\\Desktop\\karma4r\\WebApi\\Middleware\\ErrorHandlerMiddleware.cs:line 61\r\n   at WebApi.Middleware.ErrorHandlerMiddleware.Invoke(HttpContext context) in C:\\Users\\Kristupas\\Desktop\\karma4r\\WebApi\\Middleware\\ErrorHandlerMiddleware.cs:line 55\r\n   at Microsoft.AspNetCore.Builder.Extensions.MapMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()","ConnectionId":"18374686498462105629","TraceIdentifier":"8000001e-0004-ff00-b63f-84710c7967bb","EventId":{"Id":2,"Name":"ApplicationError"},"SourceContext":"Microsoft.AspNetCore.Server.IIS.Core.IISHttpServer","RequestId":"8000001e-0004-ff00-b63f-84710c7967bb","RequestPath":"/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638"}
{"@t":"2021-11-30T19:43:04.5471790Z","@mt":"{HostingRequestFinishedLog:l}","@r":["Request finished HTTP/1.1 POST https://localhost:44360/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638 multipart/form-data;+boundary=--------------------------043773069501003246773208 280 - 400 - application/json 3619.6283ms"],"ElapsedMilliseconds":3619.6283,"StatusCode":400,"ContentType":"application/json","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"https","Host":"localhost:44360","PathBase":"","Path":"/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638","QueryString":"","HostingRequestFinishedLog":"Request finished HTTP/1.1 POST https://localhost:44360/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638 multipart/form-data;+boundary=--------------------------043773069501003246773208 280 - 400 - application/json 3619.6283ms","EventId":{"Id":2,"Name":"RequestFinished"},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"8000001e-0004-ff00-b63f-84710c7967bb","RequestPath":"/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638"}
{"@t":"2021-11-30T19:43:09.9243984Z","@mt":"{HostingRequestStartingLog:l}","@r":["Request starting HTTP/1.1 POST https://localhost:44360/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638 multipart/form-data;+boundary=--------------------------944244818210152317032588 280"],"Protocol":"HTTP/1.1","Method":"POST","ContentType":"multipart/form-data; boundary=--------------------------944244818210152317032588","ContentLength":280,"Scheme":"https","Host":"localhost:44360","PathBase":"","Path":"/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638","QueryString":"","HostingRequestStartingLog":"Request starting HTTP/1.1 POST https://localhost:44360/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638 multipart/form-data;+boundary=--------------------------944244818210152317032588 280","EventId":{"Id":1,"Name":"RequestStarting"},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"80000020-0004-ff00-b63f-84710c7967bb","RequestPath":"/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638"}
{"@t":"2021-11-30T19:43:09.9275802Z","@mt":"Successfully validated the token.","EventId":{"Id":2,"Name":"TokenValidationSucceeded"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"80000020-0004-ff00-b63f-84710c7967bb","RequestPath":"/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638"}
{"@t":"2021-11-30T19:43:09.9283042Z","@mt":"Authorization was successful.","EventId":{"Id":1,"Name":"UserAuthorizationSucceeded"},"SourceContext":"Microsoft.AspNetCore.Authorization.DefaultAuthorizationService","RequestId":"80000020-0004-ff00-b63f-84710c7967bb","RequestPath":"/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638"}
{"@t":"2021-11-30T19:43:09.9284568Z","@mt":"Executing endpoint '{EndpointName}'","EndpointName":"WebApi.Controllers.ItemsController.RateItem (WebApi)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"80000020-0004-ff00-b63f-84710c7967bb","RequestPath":"/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638"}
{"@t":"2021-11-30T19:43:09.9288794Z","@mt":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","RouteData":"{action = \"RateItem\", controller = \"Items\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RateItem(System.Guid, Domain.Entities.Rating)","Controller":"WebApi.Controllers.ItemsController","AssemblyName":"WebApi","EventId":{"Id":3,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"73c7b39e-2618-45bc-a5b3-cbc96e99c76f","ActionName":"WebApi.Controllers.ItemsController.RateItem (WebApi)","RequestId":"80000020-0004-ff00-b63f-84710c7967bb","RequestPath":"/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638"}
{"@t":"2021-11-30T19:43:09.9688097Z","@mt":"Entity Framework Core {version} initialized '{contextType}' using provider '{provider}' with options: {options}","version":"5.0.10","contextType":"ItemDbContext","provider":"Microsoft.EntityFrameworkCore.SqlServer","options":"SensitiveDataLoggingEnabled ","EventId":{"Id":10403,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized"},"SourceContext":"Microsoft.EntityFrameworkCore.Infrastructure","ActionId":"73c7b39e-2618-45bc-a5b3-cbc96e99c76f","ActionName":"WebApi.Controllers.ItemsController.RateItem (WebApi)","RequestId":"80000020-0004-ff00-b63f-84710c7967bb","RequestPath":"/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638"}
{"@t":"2021-11-30T19:43:09.9755821Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"2","parameters":"@__get_Item_0='04e5b4e2-58ed-4851-b949-bc4f82c34638' (Nullable = true)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [i].[Id], [i].[Category], [i].[City], [i].[Description], [i].[ExpirationDate], [i].[IsRecieved], [i].[IsSuspended], [i].[Name], [i].[Redeemer], [i].[Uploader], [i].[Username], [i].[WinnerChosenRandomly]\r\nFROM [Items] AS [i]\r\nWHERE [i].[Id] = @__get_Item_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"73c7b39e-2618-45bc-a5b3-cbc96e99c76f","ActionName":"WebApi.Controllers.ItemsController.RateItem (WebApi)","RequestId":"80000020-0004-ff00-b63f-84710c7967bb","RequestPath":"/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638"}
{"@t":"2021-11-30T19:43:09.9792558Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"1","parameters":"@__p_0='41tMZ23CXDWVBe4t44zdPNAy3XVvhIMl@clients' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Username], [u].[KarmaPoints], [u].[isVerified]\r\nFROM [Users] AS [u]\r\nWHERE [u].[Username] = @__p_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"73c7b39e-2618-45bc-a5b3-cbc96e99c76f","ActionName":"WebApi.Controllers.ItemsController.RateItem (WebApi)","RequestId":"80000020-0004-ff00-b63f-84710c7967bb","RequestPath":"/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638"}
{"@t":"2021-11-30T19:43:10.0748671Z","@mt":"Executed action {ActionName} in {ElapsedMilliseconds}ms","ActionName":"WebApi.Controllers.ItemsController.RateItem (WebApi)","ElapsedMilliseconds":145.8303,"EventId":{"Id":2,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"73c7b39e-2618-45bc-a5b3-cbc96e99c76f","RequestId":"80000020-0004-ff00-b63f-84710c7967bb","RequestPath":"/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638"}
{"@t":"2021-11-30T19:43:10.0751487Z","@mt":"Executed endpoint '{EndpointName}'","EndpointName":"WebApi.Controllers.ItemsController.RateItem (WebApi)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"80000020-0004-ff00-b63f-84710c7967bb","RequestPath":"/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638"}
{"@t":"2021-11-30T19:43:10.2722632Z","@mt":"An unhandled exception has occurred while executing the request.","@l":"Error","@x":"System.NotSupportedException: Specified method is not supported. The unsupported member type is located on type 'System.Int64'. Path: $.Length.\r\n ---> System.NotSupportedException: Specified method is not supported.\r\n   at Microsoft.AspNetCore.Server.IIS.Core.ReadOnlyStream.get_Length()\r\n   at Microsoft.AspNetCore.Server.IIS.Core.WrappingStream.get_Length()\r\n   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)\r\n   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)\r\n   --- End of inner exception stack trace ---\r\n   at System.Text.Json.ThrowHelper.ThrowNotSupportedException(WriteStack& state, NotSupportedException ex)\r\n   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.JsonSerializer.WriteCore[TValue](JsonConverter jsonConverter, Utf8JsonWriter writer, TValue& value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.JsonSerializer.WriteCore[TValue](Utf8JsonWriter writer, TValue& value, Type inputType, JsonSerializerOptions options)\r\n   at System.Text.Json.JsonSerializer.Serialize[TValue](TValue& value, Type inputType, JsonSerializerOptions options)\r\n   at System.Text.Json.JsonSerializer.Serialize[TValue](TValue value, JsonSerializerOptions options)\r\n   at WebApi.Middleware.ErrorHandlerMiddleware.LogErrorExceptionWithRequestBody(HttpContext context, Exception exception) in C:\\Users\\Kristupas\\Desktop\\karma4r\\WebApi\\Middleware\\ErrorHandlerMiddleware.cs:line 61\r\n   at WebApi.Middleware.ErrorHandlerMiddleware.Invoke(HttpContext context) in C:\\Users\\Kristupas\\Desktop\\karma4r\\WebApi\\Middleware\\ErrorHandlerMiddleware.cs:line 55\r\n   at Microsoft.AspNetCore.Builder.Extensions.MapMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)","EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"80000020-0004-ff00-b63f-84710c7967bb","RequestPath":"/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638"}
{"@t":"2021-11-30T19:43:10.2727470Z","@mt":"The response has already started, the error page middleware will not be executed.","@l":"Warning","EventId":{"Id":2,"Name":"ResponseStarted"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"80000020-0004-ff00-b63f-84710c7967bb","RequestPath":"/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638"}
{"@t":"2021-11-30T19:43:10.2731711Z","@mt":"Connection ID \"{ConnectionId}\", Request ID \"{TraceIdentifier}\": An unhandled exception was thrown by the application.","@l":"Error","@x":"System.NotSupportedException: Specified method is not supported. The unsupported member type is located on type 'System.Int64'. Path: $.Length.\r\n ---> System.NotSupportedException: Specified method is not supported.\r\n   at Microsoft.AspNetCore.Server.IIS.Core.ReadOnlyStream.get_Length()\r\n   at Microsoft.AspNetCore.Server.IIS.Core.WrappingStream.get_Length()\r\n   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)\r\n   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)\r\n   --- End of inner exception stack trace ---\r\n   at System.Text.Json.ThrowHelper.ThrowNotSupportedException(WriteStack& state, NotSupportedException ex)\r\n   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.JsonSerializer.WriteCore[TValue](JsonConverter jsonConverter, Utf8JsonWriter writer, TValue& value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.JsonSerializer.WriteCore[TValue](Utf8JsonWriter writer, TValue& value, Type inputType, JsonSerializerOptions options)\r\n   at System.Text.Json.JsonSerializer.Serialize[TValue](TValue& value, Type inputType, JsonSerializerOptions options)\r\n   at System.Text.Json.JsonSerializer.Serialize[TValue](TValue value, JsonSerializerOptions options)\r\n   at WebApi.Middleware.ErrorHandlerMiddleware.LogErrorExceptionWithRequestBody(HttpContext context, Exception exception) in C:\\Users\\Kristupas\\Desktop\\karma4r\\WebApi\\Middleware\\ErrorHandlerMiddleware.cs:line 61\r\n   at WebApi.Middleware.ErrorHandlerMiddleware.Invoke(HttpContext context) in C:\\Users\\Kristupas\\Desktop\\karma4r\\WebApi\\Middleware\\ErrorHandlerMiddleware.cs:line 55\r\n   at Microsoft.AspNetCore.Builder.Extensions.MapMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()","ConnectionId":"18374686498462105631","TraceIdentifier":"80000020-0004-ff00-b63f-84710c7967bb","EventId":{"Id":2,"Name":"ApplicationError"},"SourceContext":"Microsoft.AspNetCore.Server.IIS.Core.IISHttpServer","RequestId":"80000020-0004-ff00-b63f-84710c7967bb","RequestPath":"/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638"}
{"@t":"2021-11-30T19:43:10.2742850Z","@mt":"{HostingRequestFinishedLog:l}","@r":["Request finished HTTP/1.1 POST https://localhost:44360/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638 multipart/form-data;+boundary=--------------------------944244818210152317032588 280 - 400 - application/json 350.0089ms"],"ElapsedMilliseconds":350.0089,"StatusCode":400,"ContentType":"application/json","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"https","Host":"localhost:44360","PathBase":"","Path":"/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638","QueryString":"","HostingRequestFinishedLog":"Request finished HTTP/1.1 POST https://localhost:44360/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638 multipart/form-data;+boundary=--------------------------944244818210152317032588 280 - 400 - application/json 350.0089ms","EventId":{"Id":2,"Name":"RequestFinished"},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"80000020-0004-ff00-b63f-84710c7967bb","RequestPath":"/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638"}
{"@t":"2021-11-30T19:43:20.2725757Z","@mt":"{HostingRequestStartingLog:l}","@r":["Request starting HTTP/1.1 POST https://localhost:44360/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638 multipart/form-data;+boundary=--------------------------605096919290391920667209 280"],"Protocol":"HTTP/1.1","Method":"POST","ContentType":"multipart/form-data; boundary=--------------------------605096919290391920667209","ContentLength":280,"Scheme":"https","Host":"localhost:44360","PathBase":"","Path":"/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638","QueryString":"","HostingRequestStartingLog":"Request starting HTTP/1.1 POST https://localhost:44360/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638 multipart/form-data;+boundary=--------------------------605096919290391920667209 280","EventId":{"Id":1,"Name":"RequestStarting"},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"80000020-0000-fd00-b63f-84710c7967bb","RequestPath":"/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638"}
{"@t":"2021-11-30T19:43:20.2732562Z","@mt":"Successfully validated the token.","EventId":{"Id":2,"Name":"TokenValidationSucceeded"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"80000020-0000-fd00-b63f-84710c7967bb","RequestPath":"/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638"}
{"@t":"2021-11-30T19:43:20.2738819Z","@mt":"Authorization was successful.","EventId":{"Id":1,"Name":"UserAuthorizationSucceeded"},"SourceContext":"Microsoft.AspNetCore.Authorization.DefaultAuthorizationService","RequestId":"80000020-0000-fd00-b63f-84710c7967bb","RequestPath":"/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638"}
{"@t":"2021-11-30T19:43:20.2740294Z","@mt":"Executing endpoint '{EndpointName}'","EndpointName":"WebApi.Controllers.ItemsController.RateItem (WebApi)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"80000020-0000-fd00-b63f-84710c7967bb","RequestPath":"/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638"}
{"@t":"2021-11-30T19:43:20.2741611Z","@mt":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","RouteData":"{action = \"RateItem\", controller = \"Items\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RateItem(System.Guid, Domain.Entities.Rating)","Controller":"WebApi.Controllers.ItemsController","AssemblyName":"WebApi","EventId":{"Id":3,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"73c7b39e-2618-45bc-a5b3-cbc96e99c76f","ActionName":"WebApi.Controllers.ItemsController.RateItem (WebApi)","RequestId":"80000020-0000-fd00-b63f-84710c7967bb","RequestPath":"/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638"}
{"@t":"2021-11-30T19:43:20.2840379Z","@mt":"Entity Framework Core {version} initialized '{contextType}' using provider '{provider}' with options: {options}","version":"5.0.10","contextType":"ItemDbContext","provider":"Microsoft.EntityFrameworkCore.SqlServer","options":"SensitiveDataLoggingEnabled ","EventId":{"Id":10403,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized"},"SourceContext":"Microsoft.EntityFrameworkCore.Infrastructure","ActionId":"73c7b39e-2618-45bc-a5b3-cbc96e99c76f","ActionName":"WebApi.Controllers.ItemsController.RateItem (WebApi)","RequestId":"80000020-0000-fd00-b63f-84710c7967bb","RequestPath":"/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638"}
{"@t":"2021-11-30T19:43:20.2880090Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"2","parameters":"@__get_Item_0='04e5b4e2-58ed-4851-b949-bc4f82c34638' (Nullable = true)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [i].[Id], [i].[Category], [i].[City], [i].[Description], [i].[ExpirationDate], [i].[IsRecieved], [i].[IsSuspended], [i].[Name], [i].[Redeemer], [i].[Uploader], [i].[Username], [i].[WinnerChosenRandomly]\r\nFROM [Items] AS [i]\r\nWHERE [i].[Id] = @__get_Item_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"73c7b39e-2618-45bc-a5b3-cbc96e99c76f","ActionName":"WebApi.Controllers.ItemsController.RateItem (WebApi)","RequestId":"80000020-0000-fd00-b63f-84710c7967bb","RequestPath":"/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638"}
{"@t":"2021-11-30T19:43:20.2913863Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"1","parameters":"@__p_0='41tMZ23CXDWVBe4t44zdPNAy3XVvhIMl@clients' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Username], [u].[KarmaPoints], [u].[isVerified]\r\nFROM [Users] AS [u]\r\nWHERE [u].[Username] = @__p_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"73c7b39e-2618-45bc-a5b3-cbc96e99c76f","ActionName":"WebApi.Controllers.ItemsController.RateItem (WebApi)","RequestId":"80000020-0000-fd00-b63f-84710c7967bb","RequestPath":"/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638"}
{"@t":"2021-11-30T19:43:20.3787204Z","@mt":"Executed action {ActionName} in {ElapsedMilliseconds}ms","ActionName":"WebApi.Controllers.ItemsController.RateItem (WebApi)","ElapsedMilliseconds":104.4753,"EventId":{"Id":2,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"73c7b39e-2618-45bc-a5b3-cbc96e99c76f","RequestId":"80000020-0000-fd00-b63f-84710c7967bb","RequestPath":"/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638"}
{"@t":"2021-11-30T19:43:20.3790266Z","@mt":"Executed endpoint '{EndpointName}'","EndpointName":"WebApi.Controllers.ItemsController.RateItem (WebApi)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"80000020-0000-fd00-b63f-84710c7967bb","RequestPath":"/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638"}
{"@t":"2021-11-30T19:43:20.5733983Z","@mt":"An unhandled exception has occurred while executing the request.","@l":"Error","@x":"System.NotSupportedException: Specified method is not supported. The unsupported member type is located on type 'System.Int64'. Path: $.Length.\r\n ---> System.NotSupportedException: Specified method is not supported.\r\n   at Microsoft.AspNetCore.Server.IIS.Core.ReadOnlyStream.get_Length()\r\n   at Microsoft.AspNetCore.Server.IIS.Core.WrappingStream.get_Length()\r\n   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)\r\n   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)\r\n   --- End of inner exception stack trace ---\r\n   at System.Text.Json.ThrowHelper.ThrowNotSupportedException(WriteStack& state, NotSupportedException ex)\r\n   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.JsonSerializer.WriteCore[TValue](JsonConverter jsonConverter, Utf8JsonWriter writer, TValue& value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.JsonSerializer.WriteCore[TValue](Utf8JsonWriter writer, TValue& value, Type inputType, JsonSerializerOptions options)\r\n   at System.Text.Json.JsonSerializer.Serialize[TValue](TValue& value, Type inputType, JsonSerializerOptions options)\r\n   at System.Text.Json.JsonSerializer.Serialize[TValue](TValue value, JsonSerializerOptions options)\r\n   at WebApi.Middleware.ErrorHandlerMiddleware.LogErrorExceptionWithRequestBody(HttpContext context, Exception exception) in C:\\Users\\Kristupas\\Desktop\\karma4r\\WebApi\\Middleware\\ErrorHandlerMiddleware.cs:line 61\r\n   at WebApi.Middleware.ErrorHandlerMiddleware.Invoke(HttpContext context) in C:\\Users\\Kristupas\\Desktop\\karma4r\\WebApi\\Middleware\\ErrorHandlerMiddleware.cs:line 55\r\n   at Microsoft.AspNetCore.Builder.Extensions.MapMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)","EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"80000020-0000-fd00-b63f-84710c7967bb","RequestPath":"/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638"}
{"@t":"2021-11-30T19:43:20.5739200Z","@mt":"The response has already started, the error page middleware will not be executed.","@l":"Warning","EventId":{"Id":2,"Name":"ResponseStarted"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"80000020-0000-fd00-b63f-84710c7967bb","RequestPath":"/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638"}
{"@t":"2021-11-30T19:43:20.5743559Z","@mt":"Connection ID \"{ConnectionId}\", Request ID \"{TraceIdentifier}\": An unhandled exception was thrown by the application.","@l":"Error","@x":"System.NotSupportedException: Specified method is not supported. The unsupported member type is located on type 'System.Int64'. Path: $.Length.\r\n ---> System.NotSupportedException: Specified method is not supported.\r\n   at Microsoft.AspNetCore.Server.IIS.Core.ReadOnlyStream.get_Length()\r\n   at Microsoft.AspNetCore.Server.IIS.Core.WrappingStream.get_Length()\r\n   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)\r\n   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)\r\n   --- End of inner exception stack trace ---\r\n   at System.Text.Json.ThrowHelper.ThrowNotSupportedException(WriteStack& state, NotSupportedException ex)\r\n   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.JsonSerializer.WriteCore[TValue](JsonConverter jsonConverter, Utf8JsonWriter writer, TValue& value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.JsonSerializer.WriteCore[TValue](Utf8JsonWriter writer, TValue& value, Type inputType, JsonSerializerOptions options)\r\n   at System.Text.Json.JsonSerializer.Serialize[TValue](TValue& value, Type inputType, JsonSerializerOptions options)\r\n   at System.Text.Json.JsonSerializer.Serialize[TValue](TValue value, JsonSerializerOptions options)\r\n   at WebApi.Middleware.ErrorHandlerMiddleware.LogErrorExceptionWithRequestBody(HttpContext context, Exception exception) in C:\\Users\\Kristupas\\Desktop\\karma4r\\WebApi\\Middleware\\ErrorHandlerMiddleware.cs:line 61\r\n   at WebApi.Middleware.ErrorHandlerMiddleware.Invoke(HttpContext context) in C:\\Users\\Kristupas\\Desktop\\karma4r\\WebApi\\Middleware\\ErrorHandlerMiddleware.cs:line 55\r\n   at Microsoft.AspNetCore.Builder.Extensions.MapMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()","ConnectionId":"18230571293206380575","TraceIdentifier":"80000020-0000-fd00-b63f-84710c7967bb","EventId":{"Id":2,"Name":"ApplicationError"},"SourceContext":"Microsoft.AspNetCore.Server.IIS.Core.IISHttpServer","RequestId":"80000020-0000-fd00-b63f-84710c7967bb","RequestPath":"/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638"}
{"@t":"2021-11-30T19:43:20.5753608Z","@mt":"{HostingRequestFinishedLog:l}","@r":["Request finished HTTP/1.1 POST https://localhost:44360/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638 multipart/form-data;+boundary=--------------------------605096919290391920667209 280 - 400 - application/json 302.7869ms"],"ElapsedMilliseconds":302.7869,"StatusCode":400,"ContentType":"application/json","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"https","Host":"localhost:44360","PathBase":"","Path":"/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638","QueryString":"","HostingRequestFinishedLog":"Request finished HTTP/1.1 POST https://localhost:44360/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638 multipart/form-data;+boundary=--------------------------605096919290391920667209 280 - 400 - application/json 302.7869ms","EventId":{"Id":2,"Name":"RequestFinished"},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"80000020-0000-fd00-b63f-84710c7967bb","RequestPath":"/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638"}
{"@t":"2021-11-30T19:44:25.8172516Z","@mt":"{HostingRequestStartingLog:l}","@r":["Request starting HTTP/1.1 POST https://localhost:44360/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638 multipart/form-data;+boundary=--------------------------016978907803244924029106 280"],"Protocol":"HTTP/1.1","Method":"POST","ContentType":"multipart/form-data; boundary=--------------------------016978907803244924029106","ContentLength":280,"Scheme":"https","Host":"localhost:44360","PathBase":"","Path":"/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638","QueryString":"","HostingRequestStartingLog":"Request starting HTTP/1.1 POST https://localhost:44360/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638 multipart/form-data;+boundary=--------------------------016978907803244924029106 280","EventId":{"Id":1,"Name":"RequestStarting"},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"80000014-0007-fd00-b63f-84710c7967bb","RequestPath":"/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638"}
{"@t":"2021-11-30T19:44:25.8180542Z","@mt":"Successfully validated the token.","EventId":{"Id":2,"Name":"TokenValidationSucceeded"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"80000014-0007-fd00-b63f-84710c7967bb","RequestPath":"/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638"}
{"@t":"2021-11-30T19:44:25.8181899Z","@mt":"Authorization was successful.","EventId":{"Id":1,"Name":"UserAuthorizationSucceeded"},"SourceContext":"Microsoft.AspNetCore.Authorization.DefaultAuthorizationService","RequestId":"80000014-0007-fd00-b63f-84710c7967bb","RequestPath":"/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638"}
{"@t":"2021-11-30T19:44:25.8182268Z","@mt":"Executing endpoint '{EndpointName}'","EndpointName":"WebApi.Controllers.ItemsController.RateItem (WebApi)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"80000014-0007-fd00-b63f-84710c7967bb","RequestPath":"/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638"}
{"@t":"2021-11-30T19:44:25.8183621Z","@mt":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","RouteData":"{action = \"RateItem\", controller = \"Items\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RateItem(System.Guid, Domain.Entities.Rating)","Controller":"WebApi.Controllers.ItemsController","AssemblyName":"WebApi","EventId":{"Id":3,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"73c7b39e-2618-45bc-a5b3-cbc96e99c76f","ActionName":"WebApi.Controllers.ItemsController.RateItem (WebApi)","RequestId":"80000014-0007-fd00-b63f-84710c7967bb","RequestPath":"/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638"}
{"@t":"2021-11-30T19:44:25.8197989Z","@mt":"Entity Framework Core {version} initialized '{contextType}' using provider '{provider}' with options: {options}","version":"5.0.10","contextType":"ItemDbContext","provider":"Microsoft.EntityFrameworkCore.SqlServer","options":"SensitiveDataLoggingEnabled ","EventId":{"Id":10403,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.ContextInitialized"},"SourceContext":"Microsoft.EntityFrameworkCore.Infrastructure","ActionId":"73c7b39e-2618-45bc-a5b3-cbc96e99c76f","ActionName":"WebApi.Controllers.ItemsController.RateItem (WebApi)","RequestId":"80000014-0007-fd00-b63f-84710c7967bb","RequestPath":"/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638"}
{"@t":"2021-11-30T19:44:25.8241085Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"3","parameters":"@__get_Item_0='04e5b4e2-58ed-4851-b949-bc4f82c34638' (Nullable = true)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [i].[Id], [i].[Category], [i].[City], [i].[Description], [i].[ExpirationDate], [i].[IsRecieved], [i].[IsSuspended], [i].[Name], [i].[Redeemer], [i].[Uploader], [i].[Username], [i].[WinnerChosenRandomly]\r\nFROM [Items] AS [i]\r\nWHERE [i].[Id] = @__get_Item_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"73c7b39e-2618-45bc-a5b3-cbc96e99c76f","ActionName":"WebApi.Controllers.ItemsController.RateItem (WebApi)","RequestId":"80000014-0007-fd00-b63f-84710c7967bb","RequestPath":"/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638"}
{"@t":"2021-11-30T19:44:25.8266333Z","@mt":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","elapsed":"1","parameters":"@__p_0='41tMZ23CXDWVBe4t44zdPNAy3XVvhIMl@clients' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [u].[Username], [u].[KarmaPoints], [u].[isVerified]\r\nFROM [Users] AS [u]\r\nWHERE [u].[Username] = @__p_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"73c7b39e-2618-45bc-a5b3-cbc96e99c76f","ActionName":"WebApi.Controllers.ItemsController.RateItem (WebApi)","RequestId":"80000014-0007-fd00-b63f-84710c7967bb","RequestPath":"/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638"}
{"@t":"2021-11-30T19:44:25.9105103Z","@mt":"Executed action {ActionName} in {ElapsedMilliseconds}ms","ActionName":"WebApi.Controllers.ItemsController.RateItem (WebApi)","ElapsedMilliseconds":92.0908,"EventId":{"Id":2,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"73c7b39e-2618-45bc-a5b3-cbc96e99c76f","RequestId":"80000014-0007-fd00-b63f-84710c7967bb","RequestPath":"/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638"}
{"@t":"2021-11-30T19:44:25.9107929Z","@mt":"Executed endpoint '{EndpointName}'","EndpointName":"WebApi.Controllers.ItemsController.RateItem (WebApi)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"80000014-0007-fd00-b63f-84710c7967bb","RequestPath":"/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638"}
{"@t":"2021-11-30T19:44:26.0994348Z","@mt":"An unhandled exception has occurred while executing the request.","@l":"Error","@x":"System.NotSupportedException: Specified method is not supported. The unsupported member type is located on type 'System.Int64'. Path: $.Length.\r\n ---> System.NotSupportedException: Specified method is not supported.\r\n   at Microsoft.AspNetCore.Server.IIS.Core.ReadOnlyStream.get_Length()\r\n   at Microsoft.AspNetCore.Server.IIS.Core.WrappingStream.get_Length()\r\n   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)\r\n   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)\r\n   --- End of inner exception stack trace ---\r\n   at System.Text.Json.ThrowHelper.ThrowNotSupportedException(WriteStack& state, NotSupportedException ex)\r\n   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.JsonSerializer.WriteCore[TValue](JsonConverter jsonConverter, Utf8JsonWriter writer, TValue& value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.JsonSerializer.WriteCore[TValue](Utf8JsonWriter writer, TValue& value, Type inputType, JsonSerializerOptions options)\r\n   at System.Text.Json.JsonSerializer.Serialize[TValue](TValue& value, Type inputType, JsonSerializerOptions options)\r\n   at System.Text.Json.JsonSerializer.Serialize[TValue](TValue value, JsonSerializerOptions options)\r\n   at WebApi.Middleware.ErrorHandlerMiddleware.LogErrorExceptionWithRequestBody(HttpContext context, Exception exception) in C:\\Users\\Kristupas\\Desktop\\karma4r\\WebApi\\Middleware\\ErrorHandlerMiddleware.cs:line 61\r\n   at WebApi.Middleware.ErrorHandlerMiddleware.Invoke(HttpContext context) in C:\\Users\\Kristupas\\Desktop\\karma4r\\WebApi\\Middleware\\ErrorHandlerMiddleware.cs:line 55\r\n   at Microsoft.AspNetCore.Builder.Extensions.MapMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)","EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"80000014-0007-fd00-b63f-84710c7967bb","RequestPath":"/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638"}
{"@t":"2021-11-30T19:44:26.1001285Z","@mt":"The response has already started, the error page middleware will not be executed.","@l":"Warning","EventId":{"Id":2,"Name":"ResponseStarted"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"80000014-0007-fd00-b63f-84710c7967bb","RequestPath":"/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638"}
{"@t":"2021-11-30T19:44:26.1010121Z","@mt":"Connection ID \"{ConnectionId}\", Request ID \"{TraceIdentifier}\": An unhandled exception was thrown by the application.","@l":"Error","@x":"System.NotSupportedException: Specified method is not supported. The unsupported member type is located on type 'System.Int64'. Path: $.Length.\r\n ---> System.NotSupportedException: Specified method is not supported.\r\n   at Microsoft.AspNetCore.Server.IIS.Core.ReadOnlyStream.get_Length()\r\n   at Microsoft.AspNetCore.Server.IIS.Core.WrappingStream.get_Length()\r\n   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)\r\n   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)\r\n   --- End of inner exception stack trace ---\r\n   at System.Text.Json.ThrowHelper.ThrowNotSupportedException(WriteStack& state, NotSupportedException ex)\r\n   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.JsonSerializer.WriteCore[TValue](JsonConverter jsonConverter, Utf8JsonWriter writer, TValue& value, JsonSerializerOptions options, WriteStack& state)\r\n   at System.Text.Json.JsonSerializer.WriteCore[TValue](Utf8JsonWriter writer, TValue& value, Type inputType, JsonSerializerOptions options)\r\n   at System.Text.Json.JsonSerializer.Serialize[TValue](TValue& value, Type inputType, JsonSerializerOptions options)\r\n   at System.Text.Json.JsonSerializer.Serialize[TValue](TValue value, JsonSerializerOptions options)\r\n   at WebApi.Middleware.ErrorHandlerMiddleware.LogErrorExceptionWithRequestBody(HttpContext context, Exception exception) in C:\\Users\\Kristupas\\Desktop\\karma4r\\WebApi\\Middleware\\ErrorHandlerMiddleware.cs:line 61\r\n   at WebApi.Middleware.ErrorHandlerMiddleware.Invoke(HttpContext context) in C:\\Users\\Kristupas\\Desktop\\karma4r\\WebApi\\Middleware\\ErrorHandlerMiddleware.cs:line 55\r\n   at Microsoft.AspNetCore.Builder.Extensions.MapMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()","ConnectionId":"18230571323271151635","TraceIdentifier":"80000014-0007-fd00-b63f-84710c7967bb","EventId":{"Id":2,"Name":"ApplicationError"},"SourceContext":"Microsoft.AspNetCore.Server.IIS.Core.IISHttpServer","RequestId":"80000014-0007-fd00-b63f-84710c7967bb","RequestPath":"/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638"}
{"@t":"2021-11-30T19:44:26.1124142Z","@mt":"{HostingRequestFinishedLog:l}","@r":["Request finished HTTP/1.1 POST https://localhost:44360/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638 multipart/form-data;+boundary=--------------------------016978907803244924029106 280 - 400 - application/json 295.0635ms"],"ElapsedMilliseconds":295.0635,"StatusCode":400,"ContentType":"application/json","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"https","Host":"localhost:44360","PathBase":"","Path":"/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638","QueryString":"","HostingRequestFinishedLog":"Request finished HTTP/1.1 POST https://localhost:44360/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638 multipart/form-data;+boundary=--------------------------016978907803244924029106 280 - 400 - application/json 295.0635ms","EventId":{"Id":2,"Name":"RequestFinished"},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"80000014-0007-fd00-b63f-84710c7967bb","RequestPath":"/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638"}
2021-11-30 21:45:50.894 +02:00 [INF] User profile is available. Using 'C:\Users\Kristupas\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-30 21:45:50.998 +02:00 [INF] Start installing Hangfire SQL objects...
2021-11-30 21:45:51.417 +02:00 [INF] Hangfire SQL objects installed.
2021-11-30 21:45:51.505 +02:00 [INF] Starting Hangfire Server using job storage: 'SQL Server: DESKTOP-G1KHQFR@HangFire'
2021-11-30 21:45:51.506 +02:00 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2021-11-30 21:45:51.506 +02:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2021-11-30 21:45:51.753 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-30 21:45:51.753 +02:00 [INF] Hosting environment: Development
2021-11-30 21:45:51.753 +02:00 [INF] Content root path: C:\Users\Kristupas\Desktop\karma4r\WebApi
2021-11-30 21:45:51.800 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44360/ - -
2021-11-30 21:45:51.886 +02:00 [INF] Server desktop-g1khqfr:2916:f6cd4561 successfully announced in 350.2367 ms
2021-11-30 21:45:51.895 +02:00 [INF] Server desktop-g1khqfr:2916:f6cd4561 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2021-11-30 21:45:52.051 +02:00 [INF] Server desktop-g1khqfr:2916:f6cd4561 all the dispatchers started
2021-11-30 21:45:52.058 +02:00 [INF] Executing endpoint '/ HTTP: GET'
2021-11-30 21:45:52.101 +02:00 [INF] Executed endpoint '/ HTTP: GET'
2021-11-30 21:45:52.116 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44360/ - - - 200 - - 316.0971ms
2021-11-30 21:45:52.160 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44360/favicon.ico - -
2021-11-30 21:45:52.176 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44360/favicon.ico - - - 404 - - 15.9660ms
2021-11-30 21:45:56.762 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44360/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638 multipart/form-data;+boundary=--------------------------263300534427373807414851 280
2021-11-30 21:45:57.651 +02:00 [INF] Successfully validated the token.
2021-11-30 21:45:57.657 +02:00 [INF] Authorization was successful.
2021-11-30 21:45:57.657 +02:00 [INF] Executing endpoint 'WebApi.Controllers.ItemsController.RateItem (WebApi)'
2021-11-30 21:45:57.696 +02:00 [INF] Route matched with {action = "RateItem", controller = "Items"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RateItem(System.Guid, Domain.Entities.Rating) on controller WebApi.Controllers.ItemsController (WebApi).
2021-11-30 21:45:58.464 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2021-11-30 21:45:58.624 +02:00 [INF] Entity Framework Core 5.0.10 initialized 'ItemDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled 
2021-11-30 21:45:59.326 +02:00 [INF] Executed DbCommand (51ms) [Parameters=[@__get_Item_0='04e5b4e2-58ed-4851-b949-bc4f82c34638' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [i].[Id], [i].[Category], [i].[City], [i].[Description], [i].[ExpirationDate], [i].[IsRecieved], [i].[IsSuspended], [i].[Name], [i].[Redeemer], [i].[Uploader], [i].[Username], [i].[WinnerChosenRandomly]
FROM [Items] AS [i]
WHERE [i].[Id] = @__get_Item_0
2021-11-30 21:45:59.370 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='41tMZ23CXDWVBe4t44zdPNAy3XVvhIMl@clients' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Username], [u].[KarmaPoints], [u].[isVerified]
FROM [Users] AS [u]
WHERE [u].[Username] = @__p_0
2021-11-30 21:45:59.583 +02:00 [INF] Executed action WebApi.Controllers.ItemsController.RateItem (WebApi) in 1880.5393ms
2021-11-30 21:45:59.584 +02:00 [INF] Executed endpoint 'WebApi.Controllers.ItemsController.RateItem (WebApi)'
2021-11-30 21:45:59.900 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.NotSupportedException: Specified method is not supported. The unsupported member type is located on type 'System.Int64'. Path: $.Length.
 ---> System.NotSupportedException: Specified method is not supported.
   at Microsoft.AspNetCore.Server.IIS.Core.ReadOnlyStream.get_Length()
   at Microsoft.AspNetCore.Server.IIS.Core.WrappingStream.get_Length()
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ThrowNotSupportedException(WriteStack& state, NotSupportedException ex)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteCore[TValue](JsonConverter jsonConverter, Utf8JsonWriter writer, TValue& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteCore[TValue](Utf8JsonWriter writer, TValue& value, Type inputType, JsonSerializerOptions options)
   at System.Text.Json.JsonSerializer.Serialize[TValue](TValue& value, Type inputType, JsonSerializerOptions options)
   at System.Text.Json.JsonSerializer.Serialize[TValue](TValue value, JsonSerializerOptions options)
   at WebApi.Middleware.ErrorHandlerMiddleware.LogErrorExceptionWithRequestBody(HttpContext context, Exception exception) in C:\Users\Kristupas\Desktop\karma4r\WebApi\Middleware\ErrorHandlerMiddleware.cs:line 61
   at WebApi.Middleware.ErrorHandlerMiddleware.Invoke(HttpContext context) in C:\Users\Kristupas\Desktop\karma4r\WebApi\Middleware\ErrorHandlerMiddleware.cs:line 55
   at Microsoft.AspNetCore.Builder.Extensions.MapMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-11-30 21:45:59.960 +02:00 [WRN] The response has already started, the error page middleware will not be executed.
2021-11-30 21:45:59.964 +02:00 [ERR] Connection ID "18302628904424177692", Request ID "8000001d-0004-fe00-b63f-84710c7967bb": An unhandled exception was thrown by the application.
System.NotSupportedException: Specified method is not supported. The unsupported member type is located on type 'System.Int64'. Path: $.Length.
 ---> System.NotSupportedException: Specified method is not supported.
   at Microsoft.AspNetCore.Server.IIS.Core.ReadOnlyStream.get_Length()
   at Microsoft.AspNetCore.Server.IIS.Core.WrappingStream.get_Length()
   at System.Text.Json.JsonPropertyInfo`1.GetMemberAndWriteJson(Object obj, WriteStack& state, Utf8JsonWriter writer)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryWrite(Utf8JsonWriter writer, T value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.TryWrite(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ThrowNotSupportedException(WriteStack& state, NotSupportedException ex)
   at System.Text.Json.Serialization.JsonConverter`1.WriteCore(Utf8JsonWriter writer, T& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteCore[TValue](JsonConverter jsonConverter, Utf8JsonWriter writer, TValue& value, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteCore[TValue](Utf8JsonWriter writer, TValue& value, Type inputType, JsonSerializerOptions options)
   at System.Text.Json.JsonSerializer.Serialize[TValue](TValue& value, Type inputType, JsonSerializerOptions options)
   at System.Text.Json.JsonSerializer.Serialize[TValue](TValue value, JsonSerializerOptions options)
   at WebApi.Middleware.ErrorHandlerMiddleware.LogErrorExceptionWithRequestBody(HttpContext context, Exception exception) in C:\Users\Kristupas\Desktop\karma4r\WebApi\Middleware\ErrorHandlerMiddleware.cs:line 61
   at WebApi.Middleware.ErrorHandlerMiddleware.Invoke(HttpContext context) in C:\Users\Kristupas\Desktop\karma4r\WebApi\Middleware\ErrorHandlerMiddleware.cs:line 55
   at Microsoft.AspNetCore.Builder.Extensions.MapMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.IIS.Core.IISHttpContextOfT`1.ProcessRequestAsync()
2021-11-30 21:45:59.970 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44360/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638 multipart/form-data;+boundary=--------------------------263300534427373807414851 280 - 400 - application/json 3207.6444ms
2021-11-30 21:46:44.874 +02:00 [INF] User profile is available. Using 'C:\Users\Kristupas\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-30 21:46:45.058 +02:00 [INF] Start installing Hangfire SQL objects...
2021-11-30 21:46:46.356 +02:00 [INF] Hangfire SQL objects installed.
2021-11-30 21:46:46.440 +02:00 [INF] Starting Hangfire Server using job storage: 'SQL Server: DESKTOP-G1KHQFR@HangFire'
2021-11-30 21:46:46.440 +02:00 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2021-11-30 21:46:46.440 +02:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2021-11-30 21:46:46.778 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-30 21:46:46.778 +02:00 [INF] Hosting environment: Development
2021-11-30 21:46:46.778 +02:00 [INF] Content root path: C:\Users\Kristupas\Desktop\karma4r\WebApi
2021-11-30 21:46:46.835 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44360/ - -
2021-11-30 21:46:46.944 +02:00 [INF] Server desktop-g1khqfr:12512:33653696 successfully announced in 436.5678 ms
2021-11-30 21:46:46.953 +02:00 [INF] Server desktop-g1khqfr:12512:33653696 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2021-11-30 21:46:47.044 +02:00 [INF] Executing endpoint '/ HTTP: GET'
2021-11-30 21:46:47.082 +02:00 [INF] Server desktop-g1khqfr:12512:33653696 all the dispatchers started
2021-11-30 21:46:47.125 +02:00 [INF] Executed endpoint '/ HTTP: GET'
2021-11-30 21:46:47.146 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44360/ - - - 200 - - 310.6542ms
2021-11-30 21:46:47.177 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44360/favicon.ico - -
2021-11-30 21:46:47.200 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44360/favicon.ico - - - 404 - - 23.0270ms
2021-11-30 21:46:55.299 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44360/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638 multipart/form-data;+boundary=--------------------------802134043855278519188601 280
2021-11-30 21:46:56.071 +02:00 [INF] Successfully validated the token.
2021-11-30 21:46:56.077 +02:00 [INF] Authorization was successful.
2021-11-30 21:46:56.078 +02:00 [INF] Executing endpoint 'WebApi.Controllers.ItemsController.RateItem (WebApi)'
2021-11-30 21:46:56.122 +02:00 [INF] Route matched with {action = "RateItem", controller = "Items"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RateItem(System.Guid, Domain.Entities.Rating) on controller WebApi.Controllers.ItemsController (WebApi).
2021-11-30 21:46:56.893 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2021-11-30 21:46:57.107 +02:00 [INF] Entity Framework Core 5.0.10 initialized 'ItemDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled 
2021-11-30 21:46:57.820 +02:00 [INF] Executed DbCommand (54ms) [Parameters=[@__get_Item_0='04e5b4e2-58ed-4851-b949-bc4f82c34638' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [i].[Id], [i].[Category], [i].[City], [i].[Description], [i].[ExpirationDate], [i].[IsRecieved], [i].[IsSuspended], [i].[Name], [i].[Redeemer], [i].[Uploader], [i].[Username], [i].[WinnerChosenRandomly]
FROM [Items] AS [i]
WHERE [i].[Id] = @__get_Item_0
2021-11-30 21:46:57.864 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='41tMZ23CXDWVBe4t44zdPNAy3XVvhIMl@clients' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Username], [u].[KarmaPoints], [u].[isVerified]
FROM [Users] AS [u]
WHERE [u].[Username] = @__p_0
2021-11-30 21:46:58.069 +02:00 [INF] Executed action WebApi.Controllers.ItemsController.RateItem (WebApi) in 1941.4074ms
2021-11-30 21:46:58.070 +02:00 [INF] Executed endpoint 'WebApi.Controllers.ItemsController.RateItem (WebApi)'
2021-11-30 21:46:58.264 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44360/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638 multipart/form-data;+boundary=--------------------------802134043855278519188601 280 - 400 - application/json 2965.0719ms
2021-11-30 21:48:16.679 +02:00 [INF] User profile is available. Using 'C:\Users\Kristupas\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-11-30 21:48:16.768 +02:00 [INF] Start installing Hangfire SQL objects...
2021-11-30 21:48:17.033 +02:00 [INF] Hangfire SQL objects installed.
2021-11-30 21:48:17.128 +02:00 [INF] Starting Hangfire Server using job storage: 'SQL Server: DESKTOP-G1KHQFR@HangFire'
2021-11-30 21:48:17.128 +02:00 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2021-11-30 21:48:17.129 +02:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2021-11-30 21:48:17.397 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-11-30 21:48:17.397 +02:00 [INF] Hosting environment: Development
2021-11-30 21:48:17.397 +02:00 [INF] Content root path: C:\Users\Kristupas\Desktop\karma4r\WebApi
2021-11-30 21:48:17.443 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44360/ - -
2021-11-30 21:48:17.538 +02:00 [INF] Server desktop-g1khqfr:16152:60d5683f successfully announced in 375.797 ms
2021-11-30 21:48:17.547 +02:00 [INF] Server desktop-g1khqfr:16152:60d5683f is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2021-11-30 21:48:17.699 +02:00 [INF] Server desktop-g1khqfr:16152:60d5683f all the dispatchers started
2021-11-30 21:48:17.701 +02:00 [INF] Executing endpoint '/ HTTP: GET'
2021-11-30 21:48:17.760 +02:00 [INF] Executed endpoint '/ HTTP: GET'
2021-11-30 21:48:17.785 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44360/ - - - 200 - - 341.0184ms
2021-11-30 21:48:17.818 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44360/favicon.ico - -
2021-11-30 21:48:17.849 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44360/favicon.ico - - - 404 - - 30.7104ms
2021-11-30 21:48:25.699 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:44360/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638 multipart/form-data;+boundary=--------------------------702501892220102265572003 280
2021-11-30 21:48:26.632 +02:00 [INF] Successfully validated the token.
2021-11-30 21:48:26.638 +02:00 [INF] Authorization was successful.
2021-11-30 21:48:26.639 +02:00 [INF] Executing endpoint 'WebApi.Controllers.ItemsController.RateItem (WebApi)'
2021-11-30 21:48:26.686 +02:00 [INF] Route matched with {action = "RateItem", controller = "Items"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RateItem(System.Guid, Domain.Entities.Rating) on controller WebApi.Controllers.ItemsController (WebApi).
2021-11-30 21:48:27.499 +02:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2021-11-30 21:48:27.655 +02:00 [INF] Entity Framework Core 5.0.10 initialized 'ItemDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: SensitiveDataLoggingEnabled 
2021-11-30 21:48:28.404 +02:00 [INF] Executed DbCommand (54ms) [Parameters=[@__get_Item_0='04e5b4e2-58ed-4851-b949-bc4f82c34638' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [i].[Id], [i].[Category], [i].[City], [i].[Description], [i].[ExpirationDate], [i].[IsRecieved], [i].[IsSuspended], [i].[Name], [i].[Redeemer], [i].[Uploader], [i].[Username], [i].[WinnerChosenRandomly]
FROM [Items] AS [i]
WHERE [i].[Id] = @__get_Item_0
2021-11-30 21:48:28.488 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__p_0='41tMZ23CXDWVBe4t44zdPNAy3XVvhIMl@clients' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Username], [u].[KarmaPoints], [u].[isVerified]
FROM [Users] AS [u]
WHERE [u].[Username] = @__p_0
2021-11-30 21:48:28.711 +02:00 [INF] Executed action WebApi.Controllers.ItemsController.RateItem (WebApi) in 2017.4468ms
2021-11-30 21:48:28.713 +02:00 [INF] Executed endpoint 'WebApi.Controllers.ItemsController.RateItem (WebApi)'
2021-11-30 21:48:28.871 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:44360/api/Items/rate/04e5b4e2-58ed-4851-b949-bc4f82c34638 multipart/form-data;+boundary=--------------------------702501892220102265572003 280 - 400 - application/json 3171.4096ms
